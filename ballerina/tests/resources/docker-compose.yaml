version: '2'

services:
    mosquitto:
        image: 'eclipse-mosquitto:latest'
        hostname: mosquitto
        container_name: mqtt-test-server
        ports:
            - '1883:1883'
            - '9001:9001'
        volumes:
            - ./mosquitto_password.txt:/mosquitto/passwd_file
            - ./mosquitto.conf:/mosquitto/config/mosquitto.conf
            - ./certsandkeys/ca.crt:/mosquitto/ca.crt
            - ./certsandkeys/server.crt:/mosquitto/server.crt
            - ./certsandkeys/server.key:/mosquitto/server.key
